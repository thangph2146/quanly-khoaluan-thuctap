<mxfile host="app.diagrams.net" modified="2024-01-15T10:30:00.000Z" agent="5.0" etag="abc123" version="22.1.16">
  <diagram name="Database ERD - Thesis Management System" id="database-erd">
    <mxGraphModel dx="2074" dy="1129" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="1654" pageHeight="2336" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        
        <!-- Core System Tables -->
        <mxCell id="users-table" value="users&#xa;&#xa;ðŸ”‘ id: UUID (PK)&#xa;ðŸ“§ email: VARCHAR(255) UNIQUE&#xa;ðŸ”’ password_hash: VARCHAR(255)&#xa;ðŸ‘¤ role: ENUM(UserRole)&#xa;ðŸ“ first_name: VARCHAR(100)&#xa;ðŸ“ last_name: VARCHAR(100)&#xa;ðŸ“± phone: VARCHAR(20)&#xa;ðŸ  address: TEXT&#xa;âœ… is_active: BOOLEAN&#xa;ðŸ“… created_at: TIMESTAMP&#xa;ðŸ“… updated_at: TIMESTAMP&#xa;ðŸ—‘ï¸ deleted_at: TIMESTAMP" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=30;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="40" y="40" width="280" height="320" as="geometry" />
        </mxCell>

        <mxCell id="students-table" value="students&#xa;&#xa;ðŸ”‘ id: UUID (PK)&#xa;ðŸ‘¤ user_id: UUID (FK â†’ users.id)&#xa;ðŸŽ“ student_id: VARCHAR(20) UNIQUE&#xa;ðŸ“š class_id: UUID (FK â†’ classes.id)&#xa;ðŸ“Š gpa: DECIMAL(3,2)&#xa;ðŸ“ˆ total_credits: INTEGER&#xa;ðŸ“… enrollment_year: INTEGER&#xa;ðŸ“… expected_graduation: DATE&#xa;âœ… is_active: BOOLEAN&#xa;ðŸ“… created_at: TIMESTAMP&#xa;ðŸ“… updated_at: TIMESTAMP&#xa;ðŸ—‘ï¸ deleted_at: TIMESTAMP" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=30;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="1">
          <mxGeometry x="400" y="40" width="300" height="280" as="geometry" />
        </mxCell>

        <mxCell id="supervisors-table" value="supervisors&#xa;&#xa;ðŸ”‘ id: UUID (PK)&#xa;ðŸ‘¤ user_id: UUID (FK â†’ users.id)&#xa;ðŸŽ“ supervisor_id: VARCHAR(20) UNIQUE&#xa;ðŸ¢ department_id: UUID (FK â†’ departments.id)&#xa;ðŸŽ¯ specializations: TEXT[]&#xa;ðŸ“Š max_theses_per_semester: INTEGER&#xa;ðŸ“ˆ current_theses_count: INTEGER&#xa;ðŸŽ–ï¸ academic_rank: ENUM(AcademicRank)&#xa;âœ… is_active: BOOLEAN&#xa;ðŸ“… created_at: TIMESTAMP&#xa;ðŸ“… updated_at: TIMESTAMP&#xa;ðŸ—‘ï¸ deleted_at: TIMESTAMP" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=30;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;fillColor=#fff2cc;strokeColor=#d6b656;" vertex="1" parent="1">
          <mxGeometry x="760" y="40" width="320" height="280" as="geometry" />
        </mxCell>

        <mxCell id="partners-table" value="partners&#xa;&#xa;ðŸ”‘ id: UUID (PK)&#xa;ðŸ‘¤ user_id: UUID (FK â†’ users.id)&#xa;ðŸ¢ name: VARCHAR(255)&#xa;ðŸ­ type: ENUM(PartnerType)&#xa;ðŸ—ï¸ industry: VARCHAR(100)&#xa;ðŸŒ website: VARCHAR(255)&#xa;ðŸ“ description: TEXT&#xa;ðŸ‘¨â€ðŸ’¼ contact_person_name: VARCHAR(100)&#xa;ðŸ“§ contact_email: VARCHAR(255)&#xa;ðŸ“± contact_phone: VARCHAR(20)&#xa;ðŸ  address: TEXT&#xa;âœ… is_active: BOOLEAN&#xa;ðŸ“… created_at: TIMESTAMP&#xa;ðŸ“… updated_at: TIMESTAMP&#xa;ðŸ—‘ï¸ deleted_at: TIMESTAMP" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=30;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;fillColor=#f8cecc;strokeColor=#b85450;" vertex="1" parent="1">
          <mxGeometry x="1140" y="40" width="320" height="360" as="geometry" />
        </mxCell>

        <!-- Academic Structure -->
        <mxCell id="academic-years-table" value="academic_years&#xa;&#xa;ðŸ”‘ id: UUID (PK)&#xa;ðŸ“š name: VARCHAR(20)&#xa;ðŸ“… start_date: DATE&#xa;ðŸ“… end_date: DATE&#xa;âœ… is_active: BOOLEAN&#xa;ðŸ“… created_at: TIMESTAMP&#xa;ðŸ“… updated_at: TIMESTAMP" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=30;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;fillColor=#e1d5e7;strokeColor=#9673a6;" vertex="1" parent="1">
          <mxGeometry x="40" y="440" width="240" height="180" as="geometry" />
        </mxCell>

        <mxCell id="semesters-table" value="semesters&#xa;&#xa;ðŸ”‘ id: UUID (PK)&#xa;ðŸ“š academic_year_id: UUID (FK)&#xa;ðŸ“ name: VARCHAR(50)&#xa;ðŸ“… start_date: DATE&#xa;ðŸ“… end_date: DATE&#xa;â° registration_deadline: TIMESTAMP&#xa;â° thesis_deadline: TIMESTAMP&#xa;âœ… is_active: BOOLEAN&#xa;ðŸ“… created_at: TIMESTAMP&#xa;ðŸ“… updated_at: TIMESTAMP" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=30;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;fillColor=#e1d5e7;strokeColor=#9673a6;" vertex="1" parent="1">
          <mxGeometry x="320" y="440" width="280" height="240" as="geometry" />
        </mxCell>

        <mxCell id="departments-table" value="departments&#xa;&#xa;ðŸ”‘ id: UUID (PK)&#xa;ðŸ“ name: VARCHAR(255)&#xa;ðŸ·ï¸ code: VARCHAR(10) UNIQUE&#xa;ðŸ“ description: TEXT&#xa;ðŸ‘¨â€ðŸ’¼ head_of_department: VARCHAR(100)&#xa;âœ… is_active: BOOLEAN&#xa;ðŸ“… created_at: TIMESTAMP&#xa;ðŸ“… updated_at: TIMESTAMP" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=30;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;fillColor=#e1d5e7;strokeColor=#9673a6;" vertex="1" parent="1">
          <mxGeometry x="640" y="440" width="280" height="200" as="geometry" />
        </mxCell>

        <mxCell id="programs-table" value="programs&#xa;&#xa;ðŸ”‘ id: UUID (PK)&#xa;ðŸ¢ department_id: UUID (FK)&#xa;ðŸ“ name: VARCHAR(255)&#xa;ðŸ·ï¸ code: VARCHAR(10) UNIQUE&#xa;â±ï¸ duration: INTEGER&#xa;ðŸŽ“ degree: ENUM(DegreeType)&#xa;âœ… is_active: BOOLEAN&#xa;ðŸ“… created_at: TIMESTAMP&#xa;ðŸ“… updated_at: TIMESTAMP" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=30;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;fillColor=#e1d5e7;strokeColor=#9673a6;" vertex="1" parent="1">
          <mxGeometry x="960" y="440" width="260" height="220" as="geometry" />
        </mxCell>

        <mxCell id="classes-table" value="classes&#xa;&#xa;ðŸ”‘ id: UUID (PK)&#xa;ðŸ“š program_id: UUID (FK)&#xa;ðŸ“ name: VARCHAR(100)&#xa;ðŸ“… academic_year: VARCHAR(20)&#xa;ðŸ‘¥ max_students: INTEGER&#xa;ðŸ‘¥ current_students: INTEGER&#xa;âœ… is_active: BOOLEAN&#xa;ðŸ“… created_at: TIMESTAMP&#xa;ðŸ“… updated_at: TIMESTAMP" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=30;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;fillColor=#e1d5e7;strokeColor=#9673a6;" vertex="1" parent="1">
          <mxGeometry x="1260" y="440" width="260" height="220" as="geometry" />
        </mxCell>

        <!-- Thesis Management -->
        <mxCell id="theses-table" value="theses&#xa;&#xa;ðŸ”‘ id: UUID (PK)&#xa;ðŸ‘¨â€ðŸŽ“ student_id: UUID (FK â†’ students.id)&#xa;ðŸ‘¨â€ðŸ« supervisor_id: UUID (FK â†’ supervisors.id)&#xa;ðŸ“š semester_id: UUID (FK â†’ semesters.id)&#xa;ðŸ“ title: VARCHAR(500)&#xa;ðŸ“„ description: TEXT&#xa;ðŸŽ¯ objectives: TEXT[]&#xa;ðŸ”¬ methodology: TEXT&#xa;ðŸ“Š expected_outcomes: TEXT[]&#xa;ðŸ“ˆ status: ENUM(ThesisStatus)&#xa;ðŸ“… registration_date: TIMESTAMP&#xa;ðŸ“… proposal_submission_date: TIMESTAMP&#xa;ðŸ“… defense_date: TIMESTAMP&#xa;ðŸŽ¯ final_grade: DECIMAL(3,1)&#xa;ðŸ“Š progress_percentage: INTEGER&#xa;âœ… is_active: BOOLEAN&#xa;ðŸ“… created_at: TIMESTAMP&#xa;ðŸ“… updated_at: TIMESTAMP&#xa;ðŸ—‘ï¸ deleted_at: TIMESTAMP&#xa;&#xa;ðŸ”’ UNIQUE(student_id, semester_id, deleted_at)" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=30;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="1">
          <mxGeometry x="40" y="760" width="380" height="460" as="geometry" />
        </mxCell>

        <mxCell id="thesis-milestones-table" value="thesis_milestones&#xa;&#xa;ðŸ”‘ id: UUID (PK)&#xa;ðŸ“š thesis_id: UUID (FK â†’ theses.id)&#xa;ðŸ“ title: VARCHAR(255)&#xa;ðŸ“„ description: TEXT&#xa;ðŸ“… due_date: TIMESTAMP&#xa;ðŸ“… completed_date: TIMESTAMP&#xa;ðŸ“ˆ status: ENUM(MilestoneStatus)&#xa;ðŸ’¯ completion_percentage: INTEGER&#xa;ðŸ“ notes: TEXT&#xa;ðŸ“… created_at: TIMESTAMP&#xa;ðŸ“… updated_at: TIMESTAMP" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=30;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="1">
          <mxGeometry x="460" y="760" width="300" height="280" as="geometry" />
        </mxCell>

        <mxCell id="thesis-documents-table" value="thesis_documents&#xa;&#xa;ðŸ”‘ id: UUID (PK)&#xa;ðŸ“š thesis_id: UUID (FK â†’ theses.id)&#xa;ðŸ“ title: VARCHAR(255)&#xa;ðŸ“„ document_type: ENUM(DocumentType)&#xa;ðŸ“ file_path: VARCHAR(500)&#xa;ðŸ“ file_size: BIGINT&#xa;ðŸ“Ž mime_type: VARCHAR(100)&#xa;ðŸ“… upload_date: TIMESTAMP&#xa;ðŸ‘¤ uploaded_by: UUID (FK â†’ users.id)&#xa;ðŸ“ version: VARCHAR(20)&#xa;ðŸ“ description: TEXT&#xa;âœ… is_approved: BOOLEAN&#xa;ðŸ“… created_at: TIMESTAMP&#xa;ðŸ“… updated_at: TIMESTAMP&#xa;ðŸ—‘ï¸ deleted_at: TIMESTAMP" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=30;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="1">
          <mxGeometry x="800" y="760" width="320" height="360" as="geometry" />
        </mxCell>

        <!-- Internship Management -->
        <mxCell id="internship-positions-table" value="internship_positions&#xa;&#xa;ðŸ”‘ id: UUID (PK)&#xa;ðŸ¢ partner_id: UUID (FK â†’ partners.id)&#xa;ðŸ“ title: VARCHAR(255)&#xa;ðŸ“„ description: TEXT&#xa;ðŸŽ¯ requirements: TEXT[]&#xa;ðŸ’° benefits: TEXT[]&#xa;ðŸ“ location: VARCHAR(255)&#xa;â±ï¸ duration_weeks: INTEGER&#xa;ðŸ‘¥ max_interns: INTEGER&#xa;ðŸ‘¥ current_interns: INTEGER&#xa;ðŸ‘¥ available_slots: INTEGER&#xa;ðŸ“Š required_gpa: DECIMAL(3,2)&#xa;ðŸ“š required_courses: TEXT[]&#xa;âœ… is_active: BOOLEAN&#xa;ðŸ“… application_deadline: TIMESTAMP&#xa;ðŸ“… start_date: DATE&#xa;ðŸ“… end_date: DATE&#xa;ðŸ“… created_at: TIMESTAMP&#xa;ðŸ“… updated_at: TIMESTAMP&#xa;ðŸ—‘ï¸ deleted_at: TIMESTAMP" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=30;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;fillColor=#f8cecc;strokeColor=#b85450;" vertex="1" parent="1">
          <mxGeometry x="1160" y="760" width="320" height="480" as="geometry" />
        </mxCell>

        <mxCell id="internships-table" value="internships&#xa;&#xa;ðŸ”‘ id: UUID (PK)&#xa;ðŸ‘¨â€ðŸŽ“ student_id: UUID (FK â†’ students.id)&#xa;ðŸ¢ partner_id: UUID (FK â†’ partners.id)&#xa;ðŸ’¼ position_id: UUID (FK â†’ internship_positions.id)&#xa;ðŸ“š semester_id: UUID (FK â†’ semesters.id)&#xa;ðŸ“ˆ status: ENUM(InternshipStatus)&#xa;ðŸ“… application_date: TIMESTAMP&#xa;ðŸ“… acceptance_date: TIMESTAMP&#xa;ðŸ“… start_date: DATE&#xa;ðŸ“… end_date: DATE&#xa;ðŸ“… actual_start_date: DATE&#xa;ðŸ“… actual_end_date: DATE&#xa;ðŸŽ¯ final_grade: DECIMAL(3,1)&#xa;ðŸ“Š partner_evaluation: DECIMAL(3,1)&#xa;ðŸ“Š student_evaluation: DECIMAL(3,1)&#xa;ðŸ“ notes: TEXT&#xa;âœ… is_completed: BOOLEAN&#xa;ðŸ“… created_at: TIMESTAMP&#xa;ðŸ“… updated_at: TIMESTAMP&#xa;ðŸ—‘ï¸ deleted_at: TIMESTAMP&#xa;&#xa;ðŸ”’ UNIQUE(student_id, semester_id, deleted_at)" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=30;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;fillColor=#f8cecc;strokeColor=#b85450;" vertex="1" parent="1">
          <mxGeometry x="40" y="1280" width="380" height="480" as="geometry" />
        </mxCell>

        <mxCell id="internship-reports-table" value="internship_reports&#xa;&#xa;ðŸ”‘ id: UUID (PK)&#xa;ðŸ’¼ internship_id: UUID (FK â†’ internships.id)&#xa;ðŸ“ title: VARCHAR(255)&#xa;ðŸ“„ content: TEXT&#xa;ðŸ“… report_date: DATE&#xa;ðŸ“… week_number: INTEGER&#xa;â±ï¸ hours_worked: DECIMAL(5,2)&#xa;ðŸŽ¯ tasks_completed: TEXT[]&#xa;ðŸš§ challenges_faced: TEXT&#xa;ðŸ“š skills_learned: TEXT[]&#xa;ðŸ“Š self_assessment: DECIMAL(3,1)&#xa;ðŸ“ supervisor_feedback: TEXT&#xa;ðŸ“Š supervisor_rating: DECIMAL(3,1)&#xa;âœ… is_approved: BOOLEAN&#xa;ðŸ“… created_at: TIMESTAMP&#xa;ðŸ“… updated_at: TIMESTAMP" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=30;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;fillColor=#f8cecc;strokeColor=#b85450;" vertex="1" parent="1">
          <mxGeometry x="460" y="1280" width="320" height="380" as="geometry" />
        </mxCell>

        <!-- System Tables -->
        <mxCell id="notifications-table" value="notifications&#xa;&#xa;ðŸ”‘ id: UUID (PK)&#xa;ðŸ‘¤ user_id: UUID (FK â†’ users.id)&#xa;ðŸ“ title: VARCHAR(255)&#xa;ðŸ“„ message: TEXT&#xa;ðŸ“± type: ENUM(NotificationType)&#xa;ðŸ“Š priority: ENUM(Priority)&#xa;ðŸ“± channels: TEXT[]&#xa;âœ… is_read: BOOLEAN&#xa;ðŸ“… read_at: TIMESTAMP&#xa;ðŸ“… scheduled_at: TIMESTAMP&#xa;ðŸ“… sent_at: TIMESTAMP&#xa;ðŸ”„ retry_count: INTEGER&#xa;ðŸ“Š status: ENUM(NotificationStatus)&#xa;ðŸ“„ metadata: JSONB&#xa;ðŸ“… created_at: TIMESTAMP&#xa;ðŸ“… updated_at: TIMESTAMP" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=30;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;fillColor=#ffe6cc;strokeColor=#d79b00;" vertex="1" parent="1">
          <mxGeometry x="820" y="1280" width="300" height="380" as="geometry" />
        </mxCell>

        <mxCell id="audit-logs-table" value="audit_logs&#xa;&#xa;ðŸ”‘ id: UUID (PK)&#xa;ðŸ“ table_name: VARCHAR(50)&#xa;ðŸ”‘ record_id: UUID&#xa;ðŸ“Š action: ENUM(AuditAction)&#xa;ðŸ‘¤ user_id: UUID (FK â†’ users.id)&#xa;ðŸ“„ old_values: JSONB&#xa;ðŸ“„ new_values: JSONB&#xa;ðŸŒ ip_address: INET&#xa;ðŸ–¥ï¸ user_agent: TEXT&#xa;ðŸ“… timestamp: TIMESTAMP&#xa;ðŸ“„ metadata: JSONB" style="swimlane;fontStyle=1;align=center;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=30;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;fillColor=#ffe6cc;strokeColor=#d79b00;" vertex="1" parent="1">
          <mxGeometry x="1160" y="1280" width="280" height="280" as="geometry" />
        </mxCell>

        <!-- Relationships -->
        
        <!-- User relationships -->
        <mxCell id="edge1" edge="1" parent="1" source="users-table" target="students-table">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="edge1-label" value="1:1" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="edge1">
          <mxGeometry x="-0.1" y="-1" relative="1" as="geometry" />
        </mxCell>

        <mxCell id="edge2" edge="1" parent="1" source="users-table" target="supervisors-table">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="edge2-label" value="1:1" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="edge2">
          <mxGeometry x="-0.1" y="-1" relative="1" as="geometry" />
        </mxCell>

        <mxCell id="edge3" edge="1" parent="1" source="users-table" target="partners-table">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="edge3-label" value="1:1" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="edge3">
          <mxGeometry x="-0.1" y="-1" relative="1" as="geometry" />
        </mxCell>

        <!-- Academic structure relationships -->
        <mxCell id="edge4" edge="1" parent="1" source="academic-years-table" target="semesters-table">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="edge4-label" value="1:n" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="edge4">
          <mxGeometry x="-0.1" y="-1" relative="1" as="geometry" />
        </mxCell>

        <mxCell id="edge5" edge="1" parent="1" source="departments-table" target="programs-table">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="edge5-label" value="1:n" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="edge5">
          <mxGeometry x="-0.1" y="-1" relative="1" as="geometry" />
        </mxCell>

        <mxCell id="edge6" edge="1" parent="1" source="programs-table" target="classes-table">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="edge6-label" value="1:n" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="edge6">
          <mxGeometry x="-0.1" y="-1" relative="1" as="geometry" />
        </mxCell>

        <mxCell id="edge7" edge="1" parent="1" source="classes-table" target="students-table">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="edge7-label" value="1:n" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="edge7">
          <mxGeometry x="-0.1" y="-1" relative="1" as="geometry" />
        </mxCell>

        <mxCell id="edge8" edge="1" parent="1" source="departments-table" target="supervisors-table">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="edge8-label" value="1:n" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="edge8">
          <mxGeometry x="-0.1" y="-1" relative="1" as="geometry" />
        </mxCell>

        <!-- Thesis relationships -->
        <mxCell id="edge9" edge="1" parent="1" source="students-table" target="theses-table">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="edge9-label" value="1:n" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="edge9">
          <mxGeometry x="-0.1" y="-1" relative="1" as="geometry" />
        </mxCell>

        <mxCell id="edge10" edge="1" parent="1" source="supervisors-table" target="theses-table">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="edge10-label" value="1:n" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="edge10">
          <mxGeometry x="-0.1" y="-1" relative="1" as="geometry" />
        </mxCell>

        <mxCell id="edge11" edge="1" parent="1" source="semesters-table" target="theses-table">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="edge11-label" value="1:n" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="edge11">
          <mxGeometry x="-0.1" y="-1" relative="1" as="geometry" />
        </mxCell>

        <mxCell id="edge12" edge="1" parent="1" source="theses-table" target="thesis-milestones-table">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="edge12-label" value="1:n" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="edge12">
          <mxGeometry x="-0.1" y="-1" relative="1" as="geometry" />
        </mxCell>

        <mxCell id="edge13" edge="1" parent="1" source="theses-table" target="thesis-documents-table">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="edge13-label" value="1:n" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="edge13">
          <mxGeometry x="-0.1" y="-1" relative="1" as="geometry" />
        </mxCell>

        <!-- Internship relationships -->
        <mxCell id="edge14" edge="1" parent="1" source="partners-table" target="internship-positions-table">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="edge14-label" value="1:n" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="edge14">
          <mxGeometry x="-0.1" y="-1" relative="1" as="geometry" />
        </mxCell>

        <mxCell id="edge15" edge="1" parent="1" source="students-table" target="internships-table">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="edge15-label" value="1:n" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="edge15">
          <mxGeometry x="-0.1" y="-1" relative="1" as="geometry" />
        </mxCell>

        <mxCell id="edge16" edge="1" parent="1" source="partners-table" target="internships-table">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="edge16-label" value="1:n" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="edge16">
          <mxGeometry x="-0.1" y="-1" relative="1" as="geometry" />
        </mxCell>

        <mxCell id="edge17" edge="1" parent="1" source="internship-positions-table" target="internships-table">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="edge17-label" value="1:n" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="edge17">
          <mxGeometry x="-0.1" y="-1" relative="1" as="geometry" />
        </mxCell>

        <mxCell id="edge18" edge="1" parent="1" source="semesters-table" target="internships-table">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="edge18-label" value="1:n" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="edge18">
          <mxGeometry x="-0.1" y="-1" relative="1" as="geometry" />
        </mxCell>

        <mxCell id="edge19" edge="1" parent="1" source="internships-table" target="internship-reports-table">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="edge19-label" value="1:n" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="edge19">
          <mxGeometry x="-0.1" y="-1" relative="1" as="geometry" />
        </mxCell>

        <!-- System relationships -->
        <mxCell id="edge20" edge="1" parent="1" source="users-table" target="notifications-table">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="edge20-label" value="1:n" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="edge20">
          <mxGeometry x="-0.1" y="-1" relative="1" as="geometry" />
        </mxCell>

        <mxCell id="edge21" edge="1" parent="1" source="users-table" target="audit-logs-table">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="edge21-label" value="1:n" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="edge21">
          <mxGeometry x="-0.1" y="-1" relative="1" as="geometry" />
        </mxCell>

        <!-- Legend -->
        <mxCell id="legend" value="ðŸ“Š DATABASE ERD LEGEND&#xa;&#xa;ðŸ”‘ Primary Key&#xa;ðŸ”— Foreign Key&#xa;ðŸ”’ Unique Constraint&#xa;ðŸ“… Timestamp Fields&#xa;ðŸ—‘ï¸ Soft Delete Support&#xa;ðŸ“Š Business Logic Fields&#xa;âœ… Status/Active Fields&#xa;&#xa;ðŸŽ¨ Color Coding:&#xa;ðŸ”µ Core Users (Blue)&#xa;ðŸŸ¢ Students/Thesis (Green)&#xa;ðŸŸ¡ Supervisors (Yellow)&#xa;ðŸ”´ Partners/Internships (Red)&#xa;ðŸŸ£ Academic Structure (Purple)&#xa;ðŸŸ  System Tables (Orange)" style="swimlane;fontStyle=1;align=left;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=30;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;fillColor=#f5f5f5;strokeColor=#666666;" vertex="1" parent="1">
          <mxGeometry x="40" y="1800" width="400" height="300" as="geometry" />
        </mxCell>

        <!-- Business Rules -->
        <mxCell id="business-rules" value="ðŸ”’ BUSINESS CONSTRAINTS&#xa;&#xa;âœ… One thesis per student per semester&#xa;âœ… One internship per student per semester&#xa;âœ… Supervisor capacity limits (max 8)&#xa;âœ… GPA requirements (min 2.0 for thesis)&#xa;âœ… Registration deadlines enforcement&#xa;âœ… Soft delete for data integrity&#xa;âœ… Audit trail for all changes&#xa;âœ… Automatic capacity management&#xa;âœ… Conflict detection for schedules&#xa;âœ… Role-based data access&#xa;&#xa;ðŸ“Š INDEXES FOR PERFORMANCE:&#xa;â€¢ students(class_id, gpa)&#xa;â€¢ theses(student_id, semester_id, status)&#xa;â€¢ internships(student_id, partner_id, status)&#xa;â€¢ supervisors(department_id, current_load)&#xa;â€¢ audit_logs(table_name, timestamp)" style="swimlane;fontStyle=1;align=left;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=30;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;fillColor=#fff2cc;strokeColor=#d6b656;" vertex="1" parent="1">
          <mxGeometry x="480" y="1800" width="400" height="380" as="geometry" />
        </mxCell>

      </root>
    </mxGraphModel>
  </diagram>
</mxfile> 